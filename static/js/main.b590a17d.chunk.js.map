{"version":3,"sources":["components/Pagination/Pagination.tsx","utils.ts","components/Home/Home.tsx","App.tsx","index.tsx"],"names":["Pagination","total","useSearchParams","params","setParams","currPage","Number","get","quantityOfPages","Math","ceil","handleClick","event","preventDefault","oldParams","URLSearchParams","isNaN","currentTarget","innerText","set","className","classNames","disabled","href","onClick","pages","i","push","active","GeneratePages","getNumbers","from","to","numbers","n","items","map","Home","useState","maxItems","setMaxItems","qtyOfItems","firstItem","lastItem","length","toString","replace","id","value","onChange","e","perPage","selectHandler","target","htmlFor","type","newMax","setNewMax","max","slice","App","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b590a17d.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport { useSearchParams } from 'react-router-dom';\n\ntype Props = {\n  total: number,\n};\n\nexport const Pagination: React.FC<Props> = ({\n  total,\n}) => {\n  const [params, setParams] = useSearchParams();\n\n  const currPage = Number(params.get('page')) || 1;\n\n  const quantityOfPages = Math.ceil(total\n    / (Number(params.get('perPage')) || 5));\n\n  function handleClick(event:React.MouseEvent<HTMLElement>):void {\n    event.preventDefault();\n\n    const oldParams = new URLSearchParams(params);\n\n    if (!Number.isNaN(event.currentTarget.innerText)) {\n      oldParams.set('page', event.currentTarget.innerText);\n      setParams(oldParams);\n    }\n\n    if (event.currentTarget.innerText === '«') {\n      oldParams.set('page', `${currPage - 1}`);\n      setParams(oldParams);\n    }\n\n    if (event.currentTarget.innerText === '»') {\n      oldParams.set('page', `${currPage + 1}`);\n      setParams(oldParams);\n    }\n  }\n\n  function GeneratePages() {\n    const pages = [];\n\n    for (let i = 1; i <= quantityOfPages; i += 1) {\n      pages.push(\n        <li className={classNames('page-item',\n          { active: (currPage) === i })}\n        >\n          <a\n            data-cy=\"pageLink\"\n            className=\"page-link\"\n            href=\"/\"\n            onClick={handleClick}\n          >\n            {i}\n          </a>\n        </li>,\n      );\n    }\n\n    return pages;\n  }\n\n  return (\n    <ul className=\"pagination\">\n      <li className={classNames('page-item',\n        { disabled: ((Number(params.get('page')) || 1) === 1) })}\n      >\n        <a\n          data-cy=\"prevLink\"\n          className=\"page-link\"\n          href=\"#prev\"\n          aria-disabled={((Number(params.get('page')) || 1) === 1)}\n          onClick={handleClick}\n        >\n          «\n        </a>\n      </li>\n      {GeneratePages()}\n      <li className={classNames('page-item',\n        {\n          disabled: (currPage === quantityOfPages),\n        })}\n      >\n        <a\n          data-cy=\"nextLink\"\n          className=\"page-link\"\n          href=\"#next\"\n          aria-disabled={(currPage === quantityOfPages)}\n          onClick={handleClick}\n        >\n          »\n        </a>\n      </li>\n    </ul>\n  );\n};\n","export function getNumbers(from: number, to: number): number[] {\n  const numbers = [];\n\n  for (let n = from; n <= to; n += 1) {\n    numbers.push(n);\n  }\n\n  return numbers;\n}\n","import React, { useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Pagination } from '../Pagination';\n\nimport { getNumbers } from '../../utils';\n\nlet items = getNumbers(1, 42)\n  .map((n:number) => <li data-cy=\"item\">{`Item ${n}`}</li>);\n\nexport const Home: React.FC = () => {\n  const [maxItems, setMaxItems] = useState(42);\n  const [params, setParams] = useSearchParams();\n\n  const currPage = Number(params.get('page')) || 1;\n  const qtyOfItems = Number(params.get('perPage')) || 5;\n  const firstItem = (currPage - 1) * qtyOfItems + 1;\n  const lastItem = (firstItem + qtyOfItems) > items.length\n    ? items.length\n    : firstItem + qtyOfItems - 1;\n\n  function selectHandler(perPage:number) {\n    const oldParams = new URLSearchParams(params);\n\n    oldParams.set('perPage', `${perPage}`);\n    oldParams.set('page', '1');\n    setParams(oldParams);\n  }\n\n  function setNewMax(newMax:number) {\n    setMaxItems(newMax);\n    items = getNumbers(1, newMax)\n      .map((n:number) => <li data-cy=\"item\">{`Item ${n}`}</li>);\n    const oldParams = new URLSearchParams(params);\n\n    oldParams.set('page', '1');\n    setParams(oldParams);\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>\n        Items with Pagination,\n        <br />\n        {`current items per page is ${params.get('perPage') || 'default is 5'}`}\n        <br />\n        {`current page is ${params.get('page') || 'default 1'}`}\n        <br />\n        {`current params are: ${(params.toString()).replace(/&/g, '; ')}`}\n      </h1>\n\n      <p className=\"lead\" data-cy=\"info\">\n        {`Page ${currPage} (items ${firstItem} - ${lastItem} of ${items.length})`}\n      </p>\n\n      <div className=\"form-group row\">\n        <div className=\"col-3 col-sm-2 col-xl-1\">\n          <select\n            data-cy=\"perPageSelector\"\n            id=\"perPageSelector\"\n            className=\"form-control\"\n            value={Number(params.get('perPage')) || 5}\n            onChange={e => selectHandler(+e.target.value)}\n          >\n            <option value=\"3\">3</option>\n            <option value=\"5\">5</option>\n            <option value=\"10\">10</option>\n            <option value=\"20\">20</option>\n          </select>\n        </div>\n\n        <label htmlFor=\"perPageSelector\" className=\"col-form-label col\">\n          items per page\n        </label>\n      </div>\n      <div className=\"form-group row\">\n        <input\n          id=\"totalItems\"\n          type=\"number\"\n          value={maxItems}\n          onChange={e => setNewMax(+e.target.value)}\n          max=\"999\"\n          className=\"col-3 col-sm-2 col-xl-1\"\n        />\n        <label htmlFor=\"totalItems\" className=\"col-form-label col\">\n          Total items\n        </label>\n      </div>\n\n      <Pagination\n        total={items.length}\n      />\n      <ul>\n        {items.slice(firstItem - 1, lastItem)}\n      </ul>\n    </div>\n  );\n};\n\nexport default Home;\n","import { Navigate, Route, Routes } from 'react-router-dom';\nimport './App.css';\nimport { Home } from './components/Home';\n\nexport const App: React.FC = () => {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/home\" element={<Navigate to=\"/\" replace />} />\n    </Routes>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>, document.getElementById('root'),\n);\n"],"sourceRoot":""}